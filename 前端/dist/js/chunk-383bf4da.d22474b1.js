(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-383bf4da"],{1144:function(e,t,n){},1148:function(e,t,n){"use strict";var r=n("da84"),c=n("5926"),a=n("577e"),o=n("1d80"),s=r.RangeError;e.exports=function(e){var t=a(o(this)),n="",r=c(e);if(r<0||r==1/0)throw s("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(t+=t))1&r&&(n+=t);return n}},"38cf":function(e,t,n){var r=n("23e7"),c=n("1148");r({target:"String",proto:!0},{repeat:c})},"5f50":function(e,t,n){"use strict";n.r(t);var r=n("7a23"),c=function(e){return Object(r["pushScopeId"])("data-v-ed26aafe"),e=e(),Object(r["popScopeId"])(),e},a={id:"setting-safe"},o={key:0,class:"green"},s=c((function(){return Object(r["createElementVNode"])("i",{class:"fas fa-check-circle"},null,-1)})),l=[s],u={key:1,class:"red"},i=c((function(){return Object(r["createElementVNode"])("i",{class:"fas fa-fire"},null,-1)})),d=[i],p=c((function(){return Object(r["createElementVNode"])("td",null,"手机号",-1)})),f={key:0,class:"green"},b=c((function(){return Object(r["createElementVNode"])("i",{class:"fas fa-check-circle"},null,-1)})),m=[b],j={key:1,class:"red"},O=c((function(){return Object(r["createElementVNode"])("i",{class:"fas fa-fire"},null,-1)})),h=[O],k=c((function(){return Object(r["createElementVNode"])("td",null,"邮箱",-1)})),w={key:0,class:"green"},g=c((function(){return Object(r["createElementVNode"])("i",{class:"fas fa-check-circle"},null,-1)})),E=[g],B={key:1,class:"red"},y=c((function(){return Object(r["createElementVNode"])("i",{class:"fas fa-fire"},null,-1)})),V=[y],v=c((function(){return Object(r["createElementVNode"])("td",null,"密码",-1)})),N={key:2},x={key:3},I={key:4},P={key:5};function S(e,t,n,c,s,i){return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",a,[Object(r["createElementVNode"])("table",null,[Object(r["createElementVNode"])("tr",null,[null!=s.user.phonenumber?(Object(r["openBlock"])(),Object(r["createElementBlock"])("td",o,l)):(Object(r["openBlock"])(),Object(r["createElementBlock"])("td",u,d)),p,Object(r["createElementVNode"])("td",null,Object(r["toDisplayString"])(s.user.phonenumber),1),Object(r["createElementVNode"])("td",null,[Object(r["createElementVNode"])("a",{href:"#",onClick:t[0]||(t[0]=Object(r["withModifiers"])((function(){}),["prevent"]))},"点击复制")])]),Object(r["createElementVNode"])("tr",null,[null!=s.user.email?(Object(r["openBlock"])(),Object(r["createElementBlock"])("td",f,m)):(Object(r["openBlock"])(),Object(r["createElementBlock"])("td",j,h)),k,Object(r["createElementVNode"])("td",null,Object(r["toDisplayString"])(s.user.email),1),Object(r["createElementVNode"])("td",null,[Object(r["createElementVNode"])("a",{href:"#",onClick:t[1]||(t[1]=Object(r["withModifiers"])((function(){}),["prevent"]))},"已绑定")])]),Object(r["createElementVNode"])("tr",null,[null!=s.user.password?(Object(r["openBlock"])(),Object(r["createElementBlock"])("td",w,E)):(Object(r["openBlock"])(),Object(r["createElementBlock"])("td",B,V)),v,s.changePsw?(Object(r["openBlock"])(),Object(r["createElementBlock"])("td",N,Object(r["toDisplayString"])(i.psw),1)):(Object(r["openBlock"])(),Object(r["createElementBlock"])("td",x,[Object(r["withDirectives"])(Object(r["createElementVNode"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return s.password=e}),type:"password"},null,512),[[r["vModelText"],s.password,void 0,{lazy:!0}]])])),s.changePsw?(Object(r["openBlock"])(),Object(r["createElementBlock"])("td",I,[Object(r["createElementVNode"])("a",{href:"#",onClick:t[3]||(t[3]=Object(r["withModifiers"])((function(e){return i.changePswFlag()}),["prevent"]))},"修改密码")])):(Object(r["openBlock"])(),Object(r["createElementBlock"])("td",P,[Object(r["createElementVNode"])("a",{href:"#",onClick:t[4]||(t[4]=Object(r["withModifiers"])((function(e){return i.changePswFlag()}),["prevent"]))},"提交修改")]))])])])}var q=n("1da1"),U=(n("96cf"),n("38cf"),n("c9a1")),C={data:function(){return{account:"123456",email:"123456@qq.com",password:"",changePsw:!0,user:{birthday:null,createTime:"2021-12-08T15:28:29.000+00:00",email:"2638826623@qq.com",id:985669637,password:"E10ADC3949BA59ABBE56E057F20F883E",phonenumber:"17707322825",portrait_id:0,sex:0,signature:null,status:0,type:0,updateTime:"2021-12-08T15:28:29.000+00:00",username:"alex"}}},computed:{psw:function(){var e=this.user.password.length<15?this.user.password.length:15;return"*".repeat(e)}},methods:{getUserInfo:function(){var e=this;return Object(q["a"])(regeneratorRuntime.mark((function t(){var n,r,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={id:localStorage.getItem("id")},t.next=3,e.$http.post("/user/information",e.qs.stringify(n));case 3:r=t.sent,c=r.data,e.user=c;case 6:case"end":return t.stop()}}),t)})))()},changePswFlag:function(){this.changePsw||this.updateUserInfo(),this.changePsw=!this.changePsw},updateUserInfo:function(){var e=this;return Object(q["a"])(regeneratorRuntime.mark((function t(){var n,r,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.password!==e.user.password){t.next=3;break}return U["a"].alert("请输入新密码！","提示消息")["catch"]((function(){})),t.abrupt("return");case 3:return n={birthday:e.user.birthday,email:e.user.email,id:e.user.id,password:e.password,phonenumber:e.user.phonenumber,portrait_id:e.user.portrait_id,sex:e.user.sex,signature:e.user.signature,status:e.user.status,type:e.user.type,username:e.user.username},t.next=6,e.$http.post("/user/update",e.qs.stringify(n));case 6:r=t.sent,c=r.data,0===c.code&&(e.getUserInfo(),e.password="",U["a"].alert("修改成功！","提示消息")["catch"]((function(){})));case 9:case"end":return t.stop()}}),t)})))()}},mounted:function(){this.getUserInfo()}},D=(n("b924"),n("6b0d")),F=n.n(D);const M=F()(C,[["render",S],["__scopeId","data-v-ed26aafe"]]);t["default"]=M},b924:function(e,t,n){"use strict";n("1144")}}]);
//# sourceMappingURL=chunk-383bf4da.d22474b1.js.map